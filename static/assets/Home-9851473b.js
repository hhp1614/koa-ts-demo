import{r as f,j as A,y as x,B as o,A as c,E as y,u as t,G as b,L as C,i as $,M as B,T as I,F as S,x as E,v as w,N as M,H as N,I as V,J as L}from"./@vue-38770cdf.js";import{_ as q}from"./Footer.vuevuetypescriptsetuptruelang-ad8deea4.js";import{u as D,a as F}from"./index-c8ddef51.js";import{u as R}from"./useAutofocus-df97093e.js";import"./pinia-66418fe9.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-16d39139.js";function H(){const l=f({name:"google",text:"谷歌",href:"https://www.google.com/search?q="}),i=f([{name:"google",text:"谷歌",tip:"Alt+1",href:"https://www.google.com/search?q="},{name:"baidu",text:"百度",tip:"Alt+2",href:"https://www.baidu.com/s?ie=utf-8&word="},{name:"bing",text:"必应",tip:"Alt+3",href:"https://cn.bing.com/search?q="}]),m=f(!1),r=f(""),p=e=>{m.value=e},d=e=>{l.value={name:e.name,text:e.text,href:e.href},localStorage.setItem("search-engine",e.name)},u=e=>{if(e.altKey&&e.key==="Enter"&&r.value)return window.open(l.value.href+r.value);const a=+e.key;if(e.altKey&&a<=i.value.length&&a>0){const v=i.value.find(k=>k.tip===`Alt+${a}`);d(v)}},g=()=>r.value&&location.replace(l.value.href+r.value),h=localStorage.getItem("search-engine");if(h){const e=i.value.find(a=>a.name===h);e&&(l.value={name:e.name,text:e.text,href:e.href})}return{engine:l,engineList:i,engineListShow:m,searchText:r,toggleEngineList:p,changeEngine:d,shortcutKey:u,search:g}}const j={class:"home"},G={class:"avatar"},J=["src"],O={class:"search"},U=["placeholder"],z={class:"engine-list"},P=["onClick"],Q={class:"name"},W={class:"key-tip"},ae=A({__name:"Home",setup(l){const i=R(),m=D(),{engine:r,engineList:p,engineListShow:d,searchText:u,toggleEngineList:g,changeEngine:h,shortcutKey:e,search:a}=H(),v=F();return(k,s)=>{const K=E("router-link"),_=E("Icon");return w(),x(S,null,[o("div",j,[o("header",null,[o("nav",null,[c(K,{to:t(m).active.path||"/toolbox"},{default:y(()=>[M("工具箱")]),_:1},8,["to"])])]),o("div",G,[o("img",{src:t(v).darkModeOn?"/avatar-dark.svg":"/avatar.svg",alt:"头像",draggable:"false"},null,8,J)]),o("div",O,[o("button",{class:"engine",onFocus:s[0]||(s[0]=n=>t(g)(!0)),onBlur:s[1]||(s[1]=n=>t(g)(!1))},[c(_,{name:t(r).name},null,8,["name"])],32),b(o("input",{type:"text",ref_key:"inputRef",ref:i,"onUpdate:modelValue":s[2]||(s[2]=n=>$(u)?u.value=n:null),placeholder:`使用 ${t(r).text} 搜索`,onKeydown:s[3]||(s[3]=(...n)=>t(e)&&t(e)(...n)),onKeypress:s[4]||(s[4]=B((...n)=>t(a)&&t(a)(...n),["enter"]))},null,40,U),[[C,t(u)]]),o("button",{class:"btn",onClick:s[5]||(s[5]=(...n)=>t(a)&&t(a)(...n))},[c(_,{name:"search"})]),c(I,{name:"slide-fade"},{default:y(()=>[b(o("div",z,[(w(!0),x(S,null,V(t(p),(n,T)=>(w(),x("div",{key:T,class:"item",onClick:X=>t(h)(n)},[c(_,{name:n.name},null,8,["name"]),o("span",Q,L(n.text),1),o("span",W,L(n.tip),1)],8,P))),128))],512),[[N,t(d)]])]),_:1})])]),c(q)],64)}}});export{ae as default};
