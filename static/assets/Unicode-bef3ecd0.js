import{j as h,a as V,y as I,B as c,A as r,G as m,L as f,x as u,v as M}from"./@vue-38770cdf.js";const R={class:"unicode"},X={class:"form"},S={class:"actions"},k={class:"input"},A={class:"output"},E={class:"content"},$=["placeholder"],N=h({__name:"Unicode",setup(j){const p=/{}/g,i="UTF-8",a=new Map([["UTF-8","\\x{}"],["UTF-16","\\u{}"]]),U=[{value:"UTF-8",desc:a.get("UTF-8").replace(p,"XX")},{value:"UTF-16",desc:a.get("UTF-16").replace(p,"XXXX")}],e=V({type:i,format:a.get(i),source:"",result:""}),_=new Map([["UTF-8",x],["UTF-16",F]]),g=new Map([["UTF-8",y],["UTF-16",w]]);function v(){const t=_.get(e.type)(e.source);e.result=t.map(s=>e.format.replace(p,s)).join("")}function T(){var n;const o=e.format.replace("\\","\\\\"),t=new RegExp(o.replace("{}","(\\w+)"),"g"),s=new RegExp(o.replace("{}","|"),"g"),l=((n=e.result.match(t))==null?void 0:n.map(C=>C.replace(s,"")))||[],d=g.get(e.type);e.source=d(l)}function x(o){return Array.from(new TextEncoder().encode(o)).map(t=>t.toString(16))}function y(o){return new TextDecoder().decode(new Uint8Array(o.map(t=>parseInt(t,16))))}function F(o){let t=[];for(let s=0;s<o.length;s++)t.push(o.charCodeAt(s).toString(16).padStart(4,"0"));return t}function w(o){return String.fromCodePoint(...o.map(t=>parseInt(t,16)))}function B(){e.source="",e.result="",e.format=a.get(e.type)}return(o,t)=>{const s=u("FormRadio"),l=u("BtnCopy"),d=u("BtnIcon");return M(),I("div",R,[c("div",X,[r(s,{modelValue:e.type,"onUpdate:modelValue":t[0]||(t[0]=n=>e.type=n),list:U,onChange:B},null,8,["modelValue"])]),c("div",S,[c("div",k,[r(l,{text:e.source},null,8,["text"]),r(d,{icon:"clear",onClick:t[1]||(t[1]=n=>e.source="")})]),c("div",A,[r(l,{text:e.result},null,8,["text"]),r(d,{icon:"clear",onClick:t[2]||(t[2]=n=>e.result="")})])]),c("div",E,[m(c("textarea",{"onUpdate:modelValue":t[3]||(t[3]=n=>e.source=n),class:"input",ref:"inputRef",placeholder:"原文",onInput:v},null,544),[[f,e.source]]),m(c("textarea",{"onUpdate:modelValue":t[4]||(t[4]=n=>e.result=n),class:"input",placeholder:`${e.type} 编码文本`,onInput:T},null,40,$),[[f,e.result]])])])}}});export{N as default};
